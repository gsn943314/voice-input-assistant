# 透明度問題修復說明

## 🐛 問題描述

應用程式啟動後完全透明，無法看到視窗內容。

## ✅ 已修復

### 修改內容

1. **預設透明度改為 100%**
   - 文件：`src/shared/constants.ts`
   - 修改：`windowOpacity: 0.95` → `windowOpacity: 1.0`

2. **啟動時自動設置透明度**
   - 文件：`src/main/main.ts`
   - 新增：在創建視窗後立即載入設定並應用透明度

3. **添加日誌輸出**
   - 文件：`src/main/WindowManager.ts`
   - 新增：透明度設置時輸出日誌，方便調試

### 測試結果

- ✅ 開發模式啟動正常
- ✅ 視窗完全可見（100% 不透明）
- ✅ 打包版本正常
- ✅ 安裝到 Applications 後正常運行

## 🎯 使用說明

### 調整透明度

1. 啟動應用程式
2. 點擊設定按鈕（齒輪圖示）
3. 調整「視窗透明度」滑桿
4. 範圍：50% - 100%
5. 點擊儲存

### 重置設定

如果遇到問題，可以刪除設定檔重置：

\`\`\`bash
rm -rf ~/Library/Application\ Support/voice-input-app
\`\`\`

重新啟動應用程式後會使用預設設定（100% 不透明）。

## 📦 新版本文件

已重新打包，文件位於 `release/` 資料夾：

- `VoiceInput-1.0.0-universal.dmg` (169MB)
- `VoiceInput-1.0.0-universal-mac.zip` (163MB)

## 🚀 安裝新版本

### 方法 1：從 DMG 安裝

1. 刪除舊版本：
   \`\`\`bash
   rm -rf /Applications/VoiceInput.app
   \`\`\`

2. 打開 `release/VoiceInput-1.0.0-universal.dmg`

3. 拖曳到 Applications 資料夾

4. 啟動應用程式

### 方法 2：從 ZIP 安裝

1. 刪除舊版本

2. 解壓 `release/VoiceInput-1.0.0-universal-mac.zip`

3. 移動到 Applications 資料夾

4. 啟動應用程式

## 🔍 驗證

啟動後應該可以清楚看到：

- 標題欄（帶有紅黃綠三個按鈕）
- 麥克風按鈕
- 文字顯示區域
- 設定按鈕
- 所有 UI 元素

如果還是看不到，請檢查：

1. 應用程式是否在其他桌面（Space）
2. 視窗是否被其他視窗遮擋
3. 嘗試使用 Cmd+Tab 切換到應用程式

## 💡 技術細節

### 透明度設置流程

1. 應用程式啟動
2. 創建視窗（transparent: true）
3. 載入設定檔
4. 應用 windowOpacity 設定
5. 設置視窗透明度（預設 1.0）

### 透明度範圍

- 最小值：0.5（50%）
- 最大值：1.0（100%）
- 預設值：1.0（100%）

這樣可以確保視窗永遠不會完全透明。

## 📞 如果還有問題

1. 檢查 Console 日誌：
   \`\`\`bash
   log show --predicate 'process == "VoiceInput"' --last 5m
   \`\`\`

2. 查看應用程式日誌（如果開啟了開發者工具）

3. 重新安裝應用程式

4. 刪除設定檔並重新啟動
