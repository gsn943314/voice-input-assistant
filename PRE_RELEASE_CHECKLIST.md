# 发布前检查清单

## 📋 在上传到 GitHub 之前，请确认以下项目

### ✅ 文件准备

- [ ] **打包文件已生成**
  - [ ] `release/VoiceInput-1.0.0-arm64.dmg` (92MB)
  - [ ] `release/VoiceInput-1.0.0-arm64-mac.zip` (89MB)

- [ ] **文档已完成**
  - [ ] `README.md` - 包含下载链接
  - [ ] `QUICK_START.md` - 安装指南
  - [ ] `RELEASE_NOTES.md` - 发布说明
  - [ ] `GITHUB_RELEASE_GUIDE.md` - 发布流程

### ✅ 功能测试

#### 基础功能
- [ ] 应用可以正常启动
- [ ] 窗口显示正常
- [ ] 可以拖拽移动窗口
- [ ] 可以调整窗口大小

#### 设置功能
- [ ] 可以打开设置面板
- [ ] 可以输入 API 密钥
- [ ] 可以保存设置
- [ ] 设置在重启后保持
- [ ] 可以切换界面语言
- [ ] 可以调整透明度
- [ ] 可以自定义快捷键

#### 录音功能
- [ ] 点击录音按钮可以开始录音
- [ ] 录音时显示正确的状态
- [ ] 可以停止录音
- [ ] 录音时长显示正确

#### 转录功能
- [ ] 转录可以正常工作（需要有效的 API 密钥）
- [ ] 转录结果正确显示
- [ ] 可以复制转录文字
- [ ] 可以清空文字

#### 历史记录
- [ ] 历史记录正确保存
- [ ] 可以查看历史记录
- [ ] 可以点击历史项目重新加载
- [ ] 可以清空历史记录

#### 权限
- [ ] 首次启动时请求麦克风权限
- [ ] 拒绝权限后有正确的提示
- [ ] 授予权限后可以正常录音

### ✅ 安装测试

#### DMG 安装
- [ ] 双击 DMG 文件可以打开
- [ ] 显示拖拽安装界面
- [ ] 可以拖拽到 Applications 文件夹
- [ ] 从 Applications 可以正常启动

#### ZIP 安装
- [ ] 双击 ZIP 可以解压
- [ ] 解压后得到 .app 文件
- [ ] 移动到 Applications 后可以启动

#### 首次启动
- [ ] 首次启动无错误
- [ ] 可以绕过"无法验证开发者"警告（右键打开）
- [ ] 设置为默认值
- [ ] 界面显示正常

### ✅ 兼容性测试

#### 系统版本
- [ ] macOS 10.15 (Catalina) 或更高版本
- [ ] Apple Silicon (M1/M2/M3) Mac

#### 网络
- [ ] 有网络连接时可以正常转录
- [ ] 无网络连接时有正确的错误提示

### ✅ 文档检查

#### README.md
- [ ] 下载链接正确
- [ ] 功能列表完整
- [ ] 截图清晰（如果有）
- [ ] 安装说明清楚

#### QUICK_START.md
- [ ] 安装步骤详细
- [ ] 配置说明清楚
- [ ] 常见问题有答案
- [ ] 快捷键列表正确

#### RELEASE_NOTES.md
- [ ] 版本号正确
- [ ] 功能列表完整
- [ ] 已知问题列出
- [ ] 系统要求明确

### ✅ GitHub 准备

#### 代码仓库
- [ ] 所有代码已提交
- [ ] 所有文档已提交
- [ ] 已推送到 GitHub
- [ ] 分支是 main 或 master

#### Release 信息
- [ ] Tag 版本号：`v1.0.0`
- [ ] Release 标题准备好
- [ ] Release 描述准备好
- [ ] 要上传的文件列表确认

### ✅ 最终检查

#### 清理测试
```bash
# 删除旧的应用数据
rm -rf ~/Library/Application\ Support/voice-input-app

# 删除旧的应用（如果有）
rm -rf /Applications/VoiceInput.app

# 重新安装并测试
open release/VoiceInput-1.0.0-arm64.dmg
```

#### 验证步骤
1. [ ] 安装应用
2. [ ] 首次启动
3. [ ] 配置 API 密钥
4. [ ] 测试录音
5. [ ] 测试转录
6. [ ] 测试所有功能
7. [ ] 重启应用验证设置保存
8. [ ] 卸载并重新安装

### ✅ 发布清单

#### 上传文件
- [ ] `VoiceInput-1.0.0-arm64.dmg`
- [ ] `VoiceInput-1.0.0-arm64-mac.zip`

#### Release 设置
- [ ] Tag: `v1.0.0`
- [ ] Title: `VoiceInput v1.0.0 - 首次发布！🎉`
- [ ] Description: 从 RELEASE_NOTES.md 复制
- [ ] 勾选 "Set as the latest release"
- [ ] 勾选 "Create a discussion for this release"（可选）

#### 发布后验证
- [ ] Release 页面显示正确
- [ ] 下载链接可以工作
- [ ] 文件可以下载
- [ ] README 中的链接指向正确

## 🚨 常见问题

### Q: 应用无法打开，提示"无法验证开发者"
**解决方法：**
```bash
# 移除隔离属性
xattr -cr /Applications/VoiceInput.app
```
或者右键点击应用 → 打开

### Q: 麦克风权限被拒绝
**解决方法：**
1. 系统设置 → 隐私与安全性 → 麦克风
2. 勾选 VoiceInput

### Q: 转录失败
**检查：**
- [ ] API 密钥正确
- [ ] 网络连接正常
- [ ] OpenAI 账户有余额

### Q: 设置无法保存
**检查：**
- [ ] 应用有写入权限
- [ ] 磁盘空间充足
- [ ] 查看控制台错误日志

## 📝 测试记录

### 测试环境
- **系统版本**: macOS _____
- **芯片**: Apple Silicon (M1/M2/M3)
- **测试日期**: _____

### 测试结果
- [ ] 所有功能正常
- [ ] 发现问题：_____
- [ ] 已修复问题：_____

### 测试人员签名
- **测试人**: _____
- **日期**: _____
- **结果**: ✅ 通过 / ❌ 未通过

## ✅ 准备发布

当所有检查项都完成后：

1. **最后一次代码提交**
   ```bash
   git add .
   git commit -m "v1.0.0: Ready for release"
   git push origin main
   ```

2. **创建 Release**
   - 按照 `GITHUB_RELEASE_GUIDE.md` 的步骤操作

3. **发布后**
   - 测试下载链接
   - 分享给测试用户
   - 收集反馈

## 🎉 发布完成！

恭喜！你的应用已经准备好发布了！

---

**记住：质量比速度更重要。确保所有测试都通过再发布。** ✨
